(function(){"use strict";angular.module("hvWallet",[])})();(function(){"use strict";var EXPANDED_CONTAINER_HEIGHT=20,COLLAPSED_CONTAINER_HEIGHT=100;function offsetWithin(arr,allocatedSpace){allocatedSpace=allocatedSpace||COLLAPSED_CONTAINER_HEIGHT;arr.forEach(function(currCard,idx,allCards){currCard.css("top",idx/allCards.length*allocatedSpace+(100-allocatedSpace)+"%")})}function WalletCtrl($window){this.$window=$window;this.cards=[]}WalletCtrl.prototype={registerWalletCard:function(card){this.cards.push(card);offsetWithin(this.cards)},unregisterWalletCard:function(card){this.cards.splice(this.cards.indexOf(card),1);offsetWithin(this.cards)},focus:function(card){var vm=this;if(this.focussedCard===card){this.focussedCard=null}else{this.focussedCard=card}this.$window.requestAnimationFrame(function(){vm.render()})},render:function(){var cardsClone=this.cards.slice(),card=this.focussedCard;if(card){cardsClone.splice(this.cards.indexOf(card),1);card.addClass("expanded");card.css("top","");offsetWithin(cardsClone,EXPANDED_CONTAINER_HEIGHT)}else{this.cards.forEach(function(currCard){currCard.removeClass("expanded")});offsetWithin(cardsClone)}}};WalletCtrl.$inject=["$window"];angular.module("hvWallet").controller("hvWalletCtrl",WalletCtrl)})();(function(){"use strict";function WalletDirective(){return{restrict:"EA",controller:"hvWalletCtrl",link:function(scope,elem){elem.addClass("hv-wallet")}}}angular.module("hvWallet").directive("hvWallet",WalletDirective)})();(function(){"use strict";function WalletCardDirective(){return{restrict:"EA",require:"^hvWallet",scope:true,link:function(scope,elem,attrs,hvWallet){elem.addClass("hv-wallet-card");hvWallet.registerWalletCard(elem);elem.on("click",function(){hvWallet.focus(elem)});elem.on("$destroy",function(){hvWallet.unregisterWalletCard(elem);elem.off("click")})}}}angular.module("hvWallet").directive("hvWalletCard",WalletCardDirective)})();